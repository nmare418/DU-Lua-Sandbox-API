<html>
<style>
  body { background-color: #000; font-family: Arial, Helvetica, sans-serif; }
  div { font-family: Arial, Helvetica, sans-serif; }
  th { text-align: center; border: 1px solid black; padding: 4px; font-size: 12px; }
  ul { margin-top: 2px; list-style-type: square;}
  ul.nlist { margin-top: 8px; list-style-type: decimal!important;}
  li.nlist { margin-top: 15px; }
  table { font-size: 15px;
          border-style: ridge;
          background-color: #FFFFFF; }
  .tdcode { font-family: "Lucida Console", Courier, monospace;
            background-color: #FFFFFF;
            padding: 5px;
            color: black; }
  .tdarg { padding: 6px 0px 6px 4px;
           color: red;
           font-weight: bold;
           text-align: center; }
  .tddesc { padding: 6px 0px 6px 4px;
            color: black; }
  .function { font-family: "Lucida Console", Courier, monospace;
              background-color: #AAAAFF;
              border: 1px solid black;
              padding: 8px;
              font-weight: bold; }
  .function-desc { color: white; 
                   padding: 10px; }
  .library { background-color: #000066;
             border-style: ridge;
             padding: 5px;
             color: black; }
  td { border: 1px solid black; padding: 5px;}
  h1 { color: #A0A0FF;}
  .logo {
          color: blue;
          width: 260px;
          height: 30 0;}
  .titleframe { 
   opacity: 0.97;
              position: absolute; 
              left: 0px;  
              top: 3px; 
              color: white; 
              font-size: 86px;
              padding: 10px;
              width: 1245px; 
              border-bottom: 1px solid WHITE; 			  }
  .helpframe { 
              position: absolute; 
              left: 340px;  
              top: 176px; 
              color: white; 
              font-size: 16px;
              padding: 25px;
              width: 600px; }
  .menuframe {  
              position: absolute; 
              left: 5px;  
              top: 176px; 
              color: #B5B5B5;
              font-size: 16px;
              padding: 25px;}
 .downloadframe {  
              position: absolute; 
              left: 995px;  
              top: 176px; 
              color: #FFFFFF;
              font-size: 16px;
              padding: 25px;}			  
   p { margin-top: 30px; }
   .top { color: #AAAAFF; 
         text-decoration: underline;
        font-size: 16px;
        margin: 1px;
   }
   .smllnk { font-size: 16px;}
   .btn {
     display: block;
     color: #AAAAFF;
     font-size: 20px;
     text-decoration: none;
     margin-bottom: 9px;
     }
   .btnfunc {
     display: block;
     color: #7878FF;;
     font-size: 17px;
     text-decoration: none;
     margin-bottom: 7px;
     }
   a {
     color: blue;
     text-decoration: none;
	 font-size: 20px;
   }   a:hover {
     color: white;
     text-decoration: underline;
   }
   .code { font-family: "Lucida Console", Courier, monospace;
           background-color: #FFFFFF;
           padding: 25px;
           color: black; 
           font-size: 15px; 
           border: 5px ridge #999999;}
   .sample { font-family: "Lucida Console", Courier, monospace;
           background-color: #FFFFFF;
           color: black; 
           font-size: 15px; }           
    .value {color: red;}
    .comment {color: green;}
    .string {color: blue;}
</style>
<body>
<a name="top"></a>

<div class="downloadframe">
<center>
<div class="logo"><center><img src="./DOC/LogoDUAPI_PNG.png" width="150px" alt="{DU:API}"/></center></div>
<div style="position: absolute; left: 125px; top: 155px; color: gray;">{DU:API}</div>
<h1>Download</h1>
DU lua Sandbox<br><br>
Version 0.7 (alpha)<br><br>
projet open source<br>
sous license GNUv3<br><br> 
compatible Windows 7-10<br>
<br>
<a href="#">(exe bientôt disponnible)</a>
<br><br>
<a href="https://github.com/nmare418/DU-Lua-Sandbox-API" target=_blank>GitHub</a>
</center>
</div>
<div id="title" class="titleframe">
<CENTER>
<b>DU lua sandbox</b> <BR>
<span style="font-size: 22px; color: white;"><b>Une sanbox lua open source pour dual universe.</b></span><br>
</CENTER>
</div>
<div class="menuframe"><center><br>
<span style="font-size: 26px;"><b>Documentation</b></span><br><br>
  <div style="text-align: left;">
  <a class="btn" href="#present" class="btn">Présentation</a>
  <a class="btn" href="#install" class="btn">Installation</a>
  <a class="btn" href="#standalone">Utilisation en mode stand alone</a>
  <a class="btn" href="#eclipse">Utilisation dans eclipse LDT</a>  
  <a class="btn" href="#screenshots">Capture d'écrans</a> 
  <a class="btn" href="#preload">Preload file: configuration</a>
  <a class="btn" href="#function">Fonctions du preload</a>
  <a class="btn" href="#screenshots">screenshots</a> 
  Outils
  <ul>
  <li><a class="btnfunc" href="#abort">abort</a></li>
  <li><a class="btnfunc" href="#die">die</a></li>
  <li><a class="btnfunc" href="#loadScript">loadScript</a></li>
  <li><a class="btnfunc" href="#moveElement">moveElement</a></li>
  <li><a class="btnfunc" href="#pause">pause</a></li>
  <li><a class="btnfunc" href="#showOnScreen">showOnScreen</a></li>
  <li><a class="btnfunc" href="#verboseJava">verboseJava</a></li>
  <li><a class="btnfunc" href="#verboseLua">verboseLua</a></li>
  </ul>
  Configuration
  <ul>
  <li><a class="btnfunc" href="#addChannel">addChannel</a></li>
  <li><a class="btnfunc" href="#setupDatabase">setupDatabase</a></li>
  <li><a class="btnfunc" href="#setHUD">setHUD</a></li>
  <li><a class="btnfunc" href="#setupTimer">setupTimer</a></li>
  </ul>
  Elements
  <ul>
  <li><a class="btnfunc" href="#ButtonUnit">ButtonUnit</a></li>
  <li><a class="btnfunc" href="#ContainerUnit">ContainerUnit</a></li>
  <li><a class="btnfunc" href="#Core">Core</a></li>
  <li><a class="btnfunc" href="#DataBankUnit">DataBankUnit</a></li>
  <li><a class="btnfunc" href="#DoorUnit">DoorUnit</a></li>
  <li><a class="btnfunc" href="#EmitterUnit">EmitterUnit</a></li>
  <li><a class="btnfunc" href="#ForceFieldUnit">ForceFieldUnit</a></li>
  <li><a class="btnfunc" href="#GyroUnit">GyroUnit</a></li>
  <li><a class="btnfunc" href="#LandingGearUnit">LandingGearUnit</a></li>
  <li><a class="btnfunc" href="#LightUnit">LightUnit</a></li>
  <li><a class="btnfunc" href="#Navigator">Navigator</a></li>
  <li><a class="btnfunc" href="#RadarUnit">RadarUnit</a></li>
  <li><a class="btnfunc" href="#ReceiverUnit">ReceiverUnit</a></li>
  <li><a class="btnfunc" href="#ScreenUnit">ScreenUnit</a></li>
  <li><a class="btnfunc" href="#SwitchUnit">SwitchUnit</a></li>
  <li><a class="btnfunc" href="#Unit">Unit</a></li>
  </ul>

  <a class="btn" href="#samples">Examples</a>
  <a class="btn" href="#export">Exporter un script</a>
  <a class="btn" href="#construct">Dummy constructs</a>
  <a class="btn" href="#h2">BD SQL interne (H2)</a>
  <a class="btn" href="#bug">Bugs connu</a>
  <a class="btn" href="#todo">A faire (todo)</a>
  <a class="btn" href="#credit">Crédits</a>
  </div>
  </center>  
  <br/>
</div>

<div id="content" class="helpframe">
<a name="present"></a>
<h2>DU Lua Sandbox API</h2>
<p>
<br>
Ce document est un tutoriel pour l'outil de dévelopement DU lua sandbox.  
Il s'agit en fait d'un api permettant le dévelopement d'application LUA dans l'univers du jeux Dual universe.<br/>  
<br/>
<br/>
J'ai crée cet API en 2 parties.<br/>
<br/>
1 - Une api LUA  contenant (presque) toute les classes de DU. (duElementAPI)<br/> 
2 - Une api JAVA contenant une sandbox LUA dual universe. (duJavaAPI)<br/>
<br/>
La sandbox permet d'émuler la quasi totalitée des éléments du jeu, des écrans utilisant le html5 (incluant le svg) allant jusqu'au la base de donnée interne (database.getPlayer, database.getConstruct, databse.getElement). Il imite le fonctionnement en temp reel de plusieurs éléments du jeu.<br/>
<br/>
Il est simple à utiliser.  La configuration ce fait à partir de fichier lua nommé Preload (voir la section preload de ce document).<br/>    
<br/>
Le code est en open source.  Il est accèssible via <a class="smllnk" href="https://github.com/nmare418/DU-Lua-Sandbox-API" target=_blank class="smllnk">ce github</a><br/> 
<br/>
<br/>
<br/>
<b> A qui s'adresse cet outil.</b><br/>
<br/>
L'api à été concu pour travailler sur des écrans de dual universe (L'élément in game).<br/> 
<br/>
Il à été conçu pour travailler en mode "projet".  La versatilitée du fichier de chargement (preload) permet de  créer des librairies de fonctions
et de faire du code réutilisable.  Les scripts sont automatiquement intégré lors de l'exports.  La sandbox à particulièrement été conçu pour concevoir des applications ingame ou même des jeux.  
L'élément databank est déja implémenté à 100%.<br/>
<br/>
Il n'est pas encore assez avancé pour être efficace au niveau des systèmes de vol, mais il le sera probablement sur le long (avec de l'aide).
<br/>
<br/>
<br/>
</p>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br/>
<br/>
<br/>
<a name="install"></a>
<h1>Installation</h1>
<br/>
Décompressez le contenu du fichier DUOfflineSandbox.zip à l'emplacement de votre choix. le répertoire ./src et son contenu contient l'api et il est requis.<br/>   
<br/><br/>
<br>
<br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br/>
<br/>
<br/>
<a name="standalone"></a>
<h1>Utilisation en mode stand alone</h1><br/>

<br/>
<br/>
pour l'ancer la sandbox. Cliquez sur \DUOfflineSandbox\dusandbox.exe<br/><br>

La boite a outil de l'application permet de relancer le script en appuyant sur "Reload (F9)" ou de charger un nouveau script par la bar de lancement. "RUN (F5)"<br/>
<br/>
<br/>
<a name="eclipse"></a>
<h1>Utilisation dans Eclispe LDT (mode interpreteur)</h1>
<br>
La sandbox peut être utilisé comme interpreteur LUA dans <a href="https://www.eclipse.org/ldt/" target="_blank">Eclipse LDT</a>.  
<br>
     
<ul class="nlist">
  
  <li class="nlist">
     Créez un nouveau projet avec comme source, le répertoire d'installation de l'api.
  </li>
  <li class="nlist">
     Créez un lunch configuration pour chaques fichiers de preload. (menu Run->Run configuration) 
     <br><br>
     <center><img src="./DOC/runconfiguration.png" width="500px" alt="Run Configurations"></center>
  </li>
  <li class="nlist">
     accédez à la liste des interpreters. (menu Run->Run configuration->bouton Manage interpreters)
     <br><br>
     <center><img src="./DOC/interpreter1.png" width="650px" alt="préférences">
     </center>
  </li>
  <li class="nlist"> Ajouter la sandbox dans la liste d'interpreters. (menu Run->Run configuration->bouton Manage interpreters->Add 
    <br><br>
    <center><img src="./DOC/addinterpreter.png" width="650px" alt="add interpreters"></center>
  </li>
</ul>
<br>
<br>
<br>créez un lunch configuration pour chaques fichiers de preload.  Cliquez sur le tabb du fichier preload puis cliquez sur RUN (ctrl-F11) pour lancer le projet.</b><br>
<br>
<br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br/>
<br/>
<br/>
<a name="screenshots"></a>
<br>
<h1>Captures d'écrans</h1>
<table border="0" style="background-color: black; color: white;">
<tr>
  <td>
     databanks fonctionnelle<br/>
     <img src="./DOC/screenshot1.jpg" width="80%" onclick="window.open('./DOC/screenshot1.jpg', '_blank');"/><br><br>
     exemple de système d'inventaire<br/>
     <img src="./DOC/screenshot2.jpg" width="80%" onclick="window.open('./DOC/screenshot2.jpg', '_blank');"/><br><br>
     Création d'interface utilisateur avec souris fonctionnelle.<br/>
     <img src="./DOC/screenshot3.jpg" width="80%" onclick="window.open('./DOC/screenshot3.jpg', '_blank');"/><br><br>
     Timers et update qui permet d'animer des svg en temp reel. <br/>
     <img src="./DOC/screenshot4.jpg" width="80%" onclick="window.open('./DOC/screenshot4.jpg', '_blank');"/><br><br>
  </td>
  <td>
     Hud fonctionnelle<br>
     <img src="./DOC/screenshot5.jpg" width="80%" onclick="window.open('./DOC/screenshot5.jpg', '_blank');"/><br><br>
     Paufiner votre code grace des fonctions de débuguage<br>
     <img src="./DOC/screenshot6.jpg" width="80%" onclick="window.open('./DOC/screenshot6.jpg', '_blank');"/><br><br>
     Imitation du codex lua de dual universe<br/>
     <img src="./DOC/screenshot7.jpg" width="80%" onclick="window.open('./DOC/screenshot7.jpg', '_blank');"/><br><br>
     des exemples de code<br/>
     <img src="./DOC/screenshot8.jpg" width="80%" onclick="window.open('./DOC/screenshot8.jpg', '_blank');"/><br><br>
  </td>
</tr>
</table>
<br/>
<br/>
<a name="preload"></a>
<h1>PRELOAD</h1><br>
<br>
Le preload est un fichiers de configuration en LUA.  Il configure l'environnement et ajoute les éléments à la sandbox (door, unit, databank....)<br>
<br>
Par standard, le fichier de preload est nomé [nomprojet]_load.lua.   Il est utilisé pour démarrer votre projet.<br>  
<br>
Le preload charge les fichiers LUA pour les évènements (start, tick, stop...) relié aux scripts. Il sert aussi pour configurer la sandbox et rajouter des joueurs et constructs.<br>
<br>
Toute les fonctions du LUA sont disponnible. Y compris les fonctions de lecture/ecriture du système de fichier et les fonction lua "dofile" et load.<br> 
<br>
<b>A la fin du preload,  seul les configurations aquise et les éléments ajoutés sont conservés.  La session LUA est remise à zéro 
puis la sandbox est lancée (avec l'environnement du jeu).</b><br>
<br>
Evidemment, les fonctions utilitaires lié au chargement du preload ne sont pas utilisable dans l'environnement de jeu.<br>
<br>
Notez qu'il y a une librairie json disponnible dans la session du preload. (https://github.com/rxi/json.lua)<br>    
<br>
<br>

<i>Example de fichier preload</i> 
<br>
<div class="code">
showOnScreen(<span class="value">1</span>)<br> 
verboseLua(<span class="value">1</span>)<br>
verboseJava(<span class="value">0</span>)<br>
<br>
<span class="comment">-- scripts de l'unit</span><br>
UnitStart = <span class="string">[[ <br>
  screen1.activate()<br>
  screen1.addContent(0,0,"<b>hello world</b>")<br>
]]</span><br>
UnitStop = <span class="string">"print('closing')"</span><br>
<br>
<span class="comment">-- ajout de l'unit</span><br>
obj = Unit(UnitStart, UnitStop)<br>
<br>
<span class="comment">-- ajout d'un écran</span><br>
obj = ScreenUnit(<span class="string">'screen1'</span>, <span class="value">1024</span>, <span class="value">612</span>)<br>
moveElement(obj, <span class="value">300</span>, <span class="value">5</span>)<br>
</div>
<br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br><br>
<a name="function"></a>
<h1>Fonctions du preload</h1> 
<br>


<br><a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br><br><br><b style="color: #A0A0FF">Outils</b>
<hr>
<a name="showOnScreen"></a>
<div class="library">
    <div class="function">showOnScreen(<span class="value">screenId</span>)</div>
    <div class="function-desc">Définit l'écran de démarrage de la sandbox lua (en dual screen).</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">screenId</td>  
          <td class="tddesc"><center><span class="value">[0,1]</span></center></td>  
          <td class="tddesc">numéro de l'écran physique</td>  
        </tr>
        </table>
    </center>
</div>
<br>
<a name="verboseLua"></a>
<div class="library">
    <div class="function">verboseLua(<span class="value">status</span>) </div>
    <div class="function-desc">Affiche ou non les messages du debugger lié au LUA.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">status</td>  
          <td class="tddesc"><center><span class="value">[0,1]</span></center></td>  
          <td class="tddesc">1 pour activer les messages lua<br>
          </td>  
        </tr>
        </table>
    </center>
</div>
<br>

<a name="verboseLua"></a>
<div class="library">
    <div class="function">verboseJava(<span class="value">status</span>)</div>
    <div class="function-desc">Affiche ou non les messages du debugger lié au Java.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">status</td>  
          <td class="tddesc"><center><span class="value">[0,1]</span></center></td>  
          <td class="tddesc">1 pour activer les messages java
          </td>  
        </tr>
        </table>
    </center>
</div>
<br>
<a name="loadScript"></a>
<div class="library">
    <div class="function">texte = loadScript(<span class="value">fichier</span>)</div>
    <div class="function-desc">Charge un fichier text. Que ce soit un script lua ou une image svg. 
	Le fichier est aussi ajouté à la liste des fichiers éditable accessible par le menu Edit.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">fichier</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">fichier LUA à charger.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">texte</td>  
          <td class="tddesc">fichier text chargé.</td>  
        </tr>
        </table> 
    </center>
</div>

<br>
<a name="abort"></a>
<div class="library">
    <div class="function">abort(<span class="value">msg</span>)</div>
    <div class="function-desc">Cancel l'exécution du script et affiche un message dans un popup.</div>     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">msg</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Message à afficher.</td>  
        </tr>
        </table>
    </center>
</div>

<br>
<a name="die"></a>
<div class="library">
    <div class="function">die(<span class="value">msg</span>)</div>
    <div class="function-desc">Cancel l'exécution du script et affiche un message dans la console.</div>     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">msg</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Message à afficher.</td>  
        </tr>
        </table>
    </center>
</div>
<br>
<a name="moveElement"></a>
<div class="library">
    <div class="function">moveElement(<span class="value">id</span>, <span class="value">x</span>, <span class="value">y</span>)</div>
    <div class="function-desc">Déplace le widget de l'élément [id] à l'emplacement x/y. Par défaut les éléments sont placé de haut en bas en partant de la gauche.</div>     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">id</td>  
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">Id de l'élément à déplacer</td>  
        </tr>
        <tr>
          <td class="tdarg">x</td>  
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">Position X de la nouvelle emplacement.</td>  
        </tr>
        <tr>
          <td class="tdarg">y</td>
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">Position Y de la nouvelle emplacement..</td>  
        </tr>
        </table>
    </center>
</div>
<br>
<a name="pause"></a>
<div class="library">
    <div class="function">pause(<span class="value">temps</span>)</div>
    <div class="function-desc">Fait une pause de [temps] ms.</div>     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">temps</td>  
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">durée de la pause en ms.</td>  
        </tr>
        </table>
    </center>
</div>
<br><a class="top" style="float: right;" href="#top">retourner à l'index</a><br>

<br><br><br><b style="color: #A0A0FF">Configuration</b>
<hr>
<br>
<a name="addChannel"></a>
<div class="library">
    <div class="function">addChannel(<span class="value">id</span>, <span class="value">channel</span>, <span class="value">script</span>)<br>
</div>
    <div class="function-desc">Associe le script à au canaux des éléments emitters/receivers. (voir emitter_load.lua)<br><br>Nécessaire à l'utilisation des emitters/receivers.</div>     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">id</td>  
          <td class="tddesc"><center><span class="value">id</span></center></td>  
          <td class="tddesc">L'id de l'élément "receiver" qui recevra les messages.</td>  
        </tr>
        <tr>
          <td class="tdarg">channel</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de canal du message</td>  
        </tr>
        <tr>
          <td class="tdarg">script</td>
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Le script à assigner à l'event.</td>  
        </tr>
        </table>
    </center>
</div>
<br>
<a name="setupDatabase"></a>
<div class="library">
    <div class="function">setupDatabase(<span class="value">player</span>, <span class="value">construct</span>, <span class="value">MasterPlayerId</span>)</div>
    <div class="function-desc">Configure la base de donnée interne de la sandbox. Nécessaire pour les fonctions "database", les radars et la fonction getMasterPlayerId().</div>     
    <center>
        <table width="95%" cellspacing=0 cellpaddWing=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">player</td>  
          <td class="tddesc"><center><span class="value">player array</span></center></td>  
          <td class="tddesc">array contenant les informations des joueurs. (voir rubrique "dummy players")</td>  
        </tr>
        <tr>
          <td class="tdarg">construct</td>  
          <td class="tddesc"><center><span class="value">construct array</span></center></td>  
          <td class="tddesc">array contenant les informations des constructs. (voir rubrique "dummy constructs")</td>  
        </tr>
        <tr>
          <td class="tdarg">MasterPlayerId</td>
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">Id du joueur actif (joueur ayant activé l'unit) selon l'array "player".</td>  
        </tr>
        </table>
    </center>
</div>
<br>
<a name="setHUD"></a>
<div class="library">
    <div class="function">setHUD(<span class="value">script</span>, <span class="value">x</span>, <span class="value">y</span>, <span class="value">width</span>, <span class="value">height</span>)</div>
    <div class="function-desc">Initialise un écran hud.  Permet de lier le script pour l'évènement update.</div>     
    <center>
        <table width="95%" cellspacing=0 cellpaddWing=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">script</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Script de l'évènement update.  optionnel.</td>  
        </tr>
        <tr>
          <td class="tdarg">x</td>  
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">Position x de l'écran hud. optionnel.</td>  
        </tr>
        <tr>
          <td class="tdarg">y</td>  
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">Position y de l'écran hud. optionnel.</td>  
        </tr>
        <tr>
          <td class="tdarg">width</td>  
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">largeur. optionnel.</td>  
        </tr>
        <tr>
          <td class="tdarg">height</td>  
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">Hauteur. optionnel.</td>  
        </tr>
        </table>
    </center>
</div>
<br/>
<a name="setupTimer"></a>
<div class="library">
    <div class="function">setupTimer(<span class="value">id</span>, <span class="value">nom</span>, <span class="value">script</span> )</div>
    <div class="function-desc">Crée et configure un timer (tick) et associe le script au timer lié à l'Unit [id]. Le timer doit être activé dans les scripts avec la commande setTimer(nom, délais).</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">id</td>  
          <td class="tddesc"><center><span class="value">id</span></center></td>  
          <td class="tddesc">Id de l'unit servant à la maintenance.</td>  
        </tr>
        <tr>
          <td class="tdarg">nom</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom du timer à utliser pour la fonction setTimer</td>  
        </tr>
        <tr>
          <td class="tdarg">script</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Script LUA à utiliser pour le timer.</td>  
        </tr>
        </table>
    </center>
</div>
<br><a class="top" style="float: right;" href="#top">retourner à l'index</a><br>


<br><br><br><b style="color: #A0A0FF">Éléments</b>
<br>
<hr>
<br>
<a name="ButtonUnit"></a>
<div class="library">
    <div class="function">id = ButtonUnit(<span class="value">name</span>, <span class="value">label</span>, <span class="value">script</span>)</div>
    <div class="function-desc">Initialise un élément button.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">id</span></center></td>  
          <td class="tddesc">nom de l'élément.</td>  
        </tr>
        <tr>
          <td class="tdarg">label</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Libellé du bouton.</td>  
        </tr>
        <tr>
          <td class="tdarg">script</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Script LUA à utiliser pour l'event du bouton.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
        
    </center>
</div>
<br>
<a name="ContainerUnit"></a>
<div class="library">
    <div class="function">id = ContainerUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément container.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="Core"></a>
<div class="library">
    <div class="function">id = Core(<span class="value">size</span>, <span class="value">constructType</span>, <span class="value">g</span>, <span class="value">selfConstructId</span>)</div>
    <div class="function-desc">Initialise un élément core.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">size</td>  
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">Taille du core par facteur de 16. (xs = 16)</td>  
        </tr>
        <tr>
          <td class="tdarg">constructType</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">dynamic ou static</td>  
        </tr>
        <tr>
          <td class="tdarg">g</td>  
          <td class="tddesc"><center><span class="value">float</span></center></td>  
          <td class="tddesc">La gravitée local.</td>  
        </tr>
        <tr>
          <td class="tdarg">selfConstructId</td>  
          <td class="tddesc"><center><span class="value">id</span></center></td>  
          <td class="tddesc">Assigne le core à un construct. L'id correspond aux constructs de la base donnée interne (voir SetupDatabase(...)).</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="DataBankUnit"></a>
<div class="library">
    <div class="function">id = DataBankUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément DataBank.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="DoorUnit"></a>
<div class="library">
    <div class="function">id = DoorUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément Door.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>

<br>
<a name="EmitterUnit"></a>
<div class="library">
    <div class="function">id = EmitterUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément Emitter.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>

<a name="ForceFieldUnit"></a>
<div class="library">
    <div class="function">id = ForceFieldUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément ForceField.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="GyroUnit"></a>
<div class="library">
    <div class="function">id = GyroUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément Gyro.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>  
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="LandingGearUnit"></a>
<div class="library">
    <div class="function">id = GyroUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément LandingGear.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="LightUnit"></a>
<div class="library">
    <div class="function">id = LightUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément Light.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="Navigator"></a>
<div class="library">
    <div class="function">id = Navigator(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément Navigator.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th width="10%">Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="RadarUnit"></a>
<div class="library">
    <div class="function">id = RadarUnit(<span class="value">name</span>, <span class="value">range</span>, <span class="value">scriptEnter</span>, <span class="value">scriptExit</span>)</div>
    <div class="function-desc">Initialise un élément Radar. Nécéssite l'initialisation de la base de donnée interne pour les dummy targets (voir <a href="#setupDatabase">SetupDatabase</a>). voir l'example radar_load.lua pour plus de détailles. </div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        <tr>
          <td class="tdarg">range</td>  
          <td class="tddesc"><center><span class="value">int</span></center></td>  
          <td class="tddesc">Distance de détection.</td>  
        </tr>
        <tr>
          <td class="tdarg">scriptEnter</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Script de l'event Enter.</td>  
        </tr>
        <tr>
          <td class="tdarg">scriptExit</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Script de l'event Exit.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th width="10%">Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="ReceiverUnit"></a>
<div class="library">
    <div class="function">id = ReceiverUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément Receiver. Nécéssite l'utilisation de <a href="#addChannel">addChannel(id, channel, script)</a> pour assigner les scripts aux channels. (voir emitter_load.lua) </div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th width="10%">Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="ScreenUnit"></a>
<div class="library">
    <div class="function">id = ScreenUnit(<span class="value">name</span>, <span class="value">sizeX</span>, <span class="value">sizeY</span>)</div>
    <div class="function-desc">Initialise un élément Screen. La taille des écran est normalement de 1024x614.  Vous pouvez cependant utiliser les annotations vw et vh pour réduire la taille de l'écran.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        <tr>
          <td class="tdarg">int</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Dimension horizontal de l'écran.</td>  
        </tr>
        <tr>
          <td class="tdarg">int</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Dimension vertical de l'écran.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th width="10%">Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="SwitchUnit"></a>
<div class="library">
    <div class="function">id = SwitchUnit(<span class="value">name</span>)</div>
    <div class="function-desc">Initialise un élément Switch.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">name</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Nom de l'élément.</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th width="10%">Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a name="Unit"></a>
<div class="library">
    <div class="function">id = Unit(<span class="value">scriptStart</span>, <span class="value">scriptStop</span>)</div>
    <div class="function-desc">Initialise un unit (programming board). fonctionne avec <a href="#setupTimer">setupTimer(unitId, timerName, script)</a> pour l'assignement des scripts aux timers.</div>
     
    <center>
        <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th>Argument</th>
          <th style="text-align: center;">Type</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg">scriptStart</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Script à associer à l'event start.</td>  
        </tr>
        <tr>
          <td class="tdarg">scriptStop</td>  
          <td class="tddesc"><center><span class="value">string</span></center></td>  
          <td class="tddesc">Script à associer à l'event stop</td>  
        </tr>
        </table>
       <br>
       <table width="95%" cellspacing=0 cellpadding=0 >
        <thead>
        <tr>
          <th width="10%">Valeur de retour</th>  
          <th style="text-align: left;">Description</th>  
        </tr>
        </thead>
        <tr>
          <td class="tdarg" width="10%">id</td>  
          <td class="tddesc">Id de l'élément crée.</td>  
        </tr>
        </table> 
    </center>
</div>
<br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br>
<br>
<br>

<a name="samples"></a>
<h1>Examples</h1><br/>
<br/>
Des examples de code source sont disponnible dans le répertoire de l'application.
<br/><br/>
<ul>
  <li>helloworld_load.lua: Un simpe helloworld.</li>
  <li>helloworld2_load.lua: Un simpe helloworld. un peu plus complexe.</li>
  <li>bouncingball_load.lua: Un test d'animation utilisant du svg.</li>
  <li>buttonManager_load.lua: un button manager simple d'utilisation.</li>
  <li>databank_load.lua: utilisation d'une databank.</li>
  <li>debug_load.lua: quelques fonctions de debuguage.</li>
  <li>emitter_load.lua: utilisation d'un emitter.</li>
  <li>Hud_load.lua: utilisation d'un hud.</li>
  <li>radar_load.lua: utilisation d'un radar.</li>
  <li>mapview_load.lua: Radar de type mapview (vue de haut)</li>
  <li>flymartFuelStation_load.lua: Un exemple de système d'inventaire.</li>
  <li>visitor_load.lua: Un log de visiteur.  A activer avec un detector.</li>
  <li>splitscreenx4_load.lua: Un test d'animation sur un affichage à 4 écran.</li>
  <li>tricks_and_goodies.lua: Des trucs utile, trouvé un peu partout..</li>
  
</ul>

<br/>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br>
<br>
<br>
<a name="export"></a>
<h1>Exporter un script</h1><br/>
<br>
Les commandes d'exports de la toolboar, permet d'accéder à une version du script LUA pouvant facilement être copié vers l'éditeur de Dual Universe.<br>  
<br>
L'export compile toute les fichiers .lua du projet (librairies, évènements...) en un seul fichier.<br>
<br>
La fonction d'exports de l'api permet d'accéder au code source de l'API LUA.   Il peut parfois vous permettre de débuguer vos scripts et 
peut permettre de comprendre le fonctionnement interne de l'API.<br>
<br>
<br>
Vous pouvez aussi exporter en JSON. L'implémentation n'est pas encore complète (C'est dans le haut de la liste de prioritée).  
Bientôt, vous pourrez copier directement, la string JSON dans Dual universe.  (C'est déjà possible avec plusieurs des examples fourni (incluant visitor_load et flymart2).)  

<br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br>
<br>
<br>
<a name="construct"></a>
<h1>Dummy constructs</h1>
<br><br>
Les dummy constructs servent à remplir la base de donnée interne du jeu.  Que ce soit pour la database de DU (getPlayer(), getConstruct()) ou les radars.<br>
<br>
Pour activer la base de donnée interne, vous devez utiliser la fonction <a href="#SetupDatabase">SetupDatabase</a> du fichier preload.<br>
<br>
les arrays suivent une structure assez simple.<br>
<br><br> 
<b>Exemple d'initialisation de dummy players et de dummy constructs:</b>
<div class="code">
<b>playerList</b> = {} <span class="comment">-- also used as owners list</span><br>
<b>playerList</b>[<span class="value">1</span>] = {id = <span class="value">0</span>, name = <span class="string">'unreachable'</span>, worldPos = {<span class="value">0</span>, <span class="value">0</span>, <span class="value">0</span>}}<br>
<b>playerList</b>[<span class="value">2</span>] = {id = <span class="value">1</span>, name = <span class="string">'Nmare418'</span>, worldPos = {<span class="value">0</span>, <span class="value">0</span>, <span class="value">0</span>}}<br>
<br>
<b>constructList</b> = {}<br>
<br>
<span class="comment">-- Static construct</span><br>
<b>constructList</b>[<span class="value">1</span>] = {id = <span class="value">1</span>,<br> 
       <span style="margin-left: 177px;">&nbsp;</span>owner = <span class="value">7</span>, <br> 
       <span style="margin-left: 177px;">&nbsp;</span>name = <span class="string">'Base 1'</span>, <br> 
       <span style="margin-left: 177px;">&nbsp;</span>ctype=<span class="string">'static'</span>,  <br> 
       <span style="margin-left: 177px;">&nbsp;</span>pos = {<span class="value">133</span>, <span class="value">-6233</span>, <span class="value">66</span>}, <br> 
       <span style="margin-left: 177px;">&nbsp;</span>size = {<span class="value">115</span>, <span class="value">134</span>, <span class="value">122</span>}, <br> 
       <span style="margin-left: 177px;">&nbsp;</span>speed = {<span class="value">0</span>, <span class="value">0</span>, <span class="value">0</span>}, <br> 
       <span style="margin-left: 177px;">&nbsp;</span>mass = <span class="value">2101.323</span>}<br>
<br>
<span class="comment">-- moving construct</span><br>
<b>constructList</b>[<span class="value">2</span>] = {id = <span class="value">2</span>,<br> 
        <span style="margin-left: 177px;">&nbsp;</span>owner = <span class="value">2</span>,<br>
        <span style="margin-left: 177px;">&nbsp;</span>name = <span class="string">'Ship 1'</span>,<br>
        <span style="margin-left: 177px;">&nbsp;</span>ctype=<span class="string">'dynamic'</span>,<br>
        <span style="margin-left: 177px;">&nbsp;</span>pos = {<span class="value">4353</span>, <span class="value">3233</span>, <span class="value">59</span>},<br>
        <span style="margin-left: 177px;">&nbsp;</span>size = {<span class="value">15</span>, <span class="value">6</span>, <span class="value">12</span>},<br> 
        <span style="margin-left: 177px;">&nbsp;</span>speed = {<span class="value">25</span>, <span class="value">34</span>, <span class="value">0</span>},<br> 
        <span style="margin-left: 177px;">&nbsp;</span>mass = <span class="value">12.43</span>}<br>
<br>
<span class="comment">-- unreachable (player offline)</span><br>
<b>constructList</b>[<span class="value">3</span>] = {id = <span class="value">2</span>,<br> 
        <span style="margin-left: 177px;">&nbsp;</span>owner = <span class="value">0</span>,<br>
        <span style="margin-left: 177px;">&nbsp;</span>name = <span class="string">'Ship 2'</span>,<br>
        <span style="margin-left: 177px;">&nbsp;</span>ctype=<span class="string">'dynamic'</span>,<br>
        <span style="margin-left: 177px;">&nbsp;</span>pos = {<span class="value">4353</span>, <span class="value">3233</span>, <span class="value">59</span>},<br>
        <span style="margin-left: 177px;">&nbsp;</span>size = {<span class="value">15</span>, <span class="value">6</span>, <span class="value">12</span>},<br> 
        <span style="margin-left: 177px;">&nbsp;</span>speed = {<span class="value">0</span>, <span class="value">0</span>, <span class="value">0</span>},<br> 
        <span style="margin-left: 177px;">&nbsp;</span>mass = <span class="value">12.43</span>}<br>
<br>
<span class="comment">-- setup the internal database. playerlist, constructlist, main player</span><br>
<b>setupDatabase</b>(<b>playerList</b>, <b>constructList</b>, 1)<br>

</div>
<br>
<br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br>
<br>
<br>
<a name="h2"></a>
<h1>BD SQL interne (H2)</h1>
<br><br>
Les dataBanks utilisent un système de base de donnée interne.  Il est semblable à des base de donnée relationnel (mysql, oracle, sql server...), mais , mais tiens en mémoire. <br>
<br>
Cet outil vous permet de maintenir des bases de données. De copier des tables, copier des données et d'effacer directement le contenue des databanks.  Il peut permettre d'exporter des données.<br>
<br>
Notez que, le nom de l'élément est aussi le nom de la base de donnée dans H2.  Si vous nommez les dataBanks avec le même nom dans 2 projets différents, 
ils utiliseront la même source de donnée dans la base de donnée H2.<br>
<br>
Documentation de H2 <a href="https://www.h2database.com/html/main.html" target="_blank">H2 Database Engine</a><br>
<br> 
<b>Example de requête:</b>
<div class="code">SELECT ID, COUNT(*) FROM TEST GROUP BY ID;<br>SELECT * FROM DB1;</div>
<br>
<br>
Notes:
<ul>
<li>Outil admin: <a href="http://localhost:8082/login.do" target="_blank">Console H2</a> - (attention: <b>une sandbox ayant une databank doit être en fonction</b>).</li>
<li>url JDBC: jdbc:h2:./DataBank.db;AUTO_SERVER=TRUE</li>
<li><b>Le login/password par défaut est: sa/sa</b></li>
</ul>
<br>
<br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br>
<br>
<br>
<a name="bug"></a>
<h1>Bugs</h1><br/>
<br>
<br>
<UL>
<LI>Après déiconifier un écran, l'affichage glitch si on déplace le frame.  
</UL>
Le bug est causé par l'objet web utilisé.  Les widgets avec du html, doivent être réinitialisé après la dé-iconification. 
<br><br>

<br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>
<br>
<br>
<br>
<a name="todo"></a>
<h1>A faire (todo)</h1><br/>
<br>
Liste des objectifs à cour et moyen terme (par prioritée): <br>
<br>
<UL>
<LI>Nav. Les events du clavier.  
<LI>Amméliorer l'export JSON. (Support json est encore impartiel)
<LI>Ajoutez de nouveau éléments (dont l'industry).
<LI>Corriger le radar.
<LI>Mettre à jour l'élément conteneur (Liste d'objet). Phase analyse.
<LI>Meilleur gestion des erreurs.
<LI>Rendre l'accès à la bd H2 disponnible pendant la phase PRELOAD.
<LI>Ajout d'un système de configuration. 
</UL>

Liste des objectifs à long terme: <br>
<br>
<UL>
<LI>Utilisation de plusieurs UNIT. Chaques unit doit avoir sont instance lua. 
<LI>Un editeur lua interne.
<LI>Système d'addon en LUA donnant accès aux fonctions de l'API Java ainsi qu'a divers outil.
<LI>Implémentation d'OpenGL?
<LI>Support Linux, tests.
</UL>

<br>
<br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>

<a name="credit"></a>
<h1>Crédits</h1><br/>
Conçu par Stéphane Boivin aka Nmare418 (Discord: nmare418#6397).<br>
<br>
Développement Java/Lua par Stéphane Boivin.<br>
<br>
Illustrations par l'artiste Valérie Dandois (<a href="https://valeriedandois.wixsite.com/valdandois">https://valeriedandois.wixsite.com/valdandois</a>)<br>
<br>
<br>
<b>Fureteur HTML:</b>  DJNativeSwing par Christopher Deckers -  <a href="http://djproject.sourceforge.net/ns/index.html" target="_blank">http://djproject.sourceforge.net/ns/index.html</a><br>
<br>
<b>Interpreter LUA:</b>  LuaJ par James Roseborough, Ian Farmer - <a href="http://luaj.org" target="_blank">luaj.org</a><br>
<br>
<b>Base de donnée:</b> H2  par Thomas Mueller, HSQLDB Group - <a href="http://www.h2database.com" target="_blank">www.h2database.com</a><br>
<br>
<b>Json JAVA:</b> json-simple  par  Yidong Fang - <a href="https://github.com/fangyidong/json-simple" target="_blank">https://github.com/fangyidong/json-simple</a><br>
<br>
<b>Json LUA:</b> jsonv par rxi - <a href="https://github.com/rxi/json.lua" target="_blank">https://github.com/rxi/json.lua</a><br>
<br>
<br>
<br>
 <br>
<a class="top" style="float: right;" href="#top">retourner à l'index</a><br>


  
  
</div>
</body>
</html>