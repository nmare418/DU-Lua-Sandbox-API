Generated by DU offline Api

-----------------------------------------
-- Element name: unit
-- Element: Unit
-- Event: Start()
-----------------------------------------

htmlBackground1 = [[
<svg width="1024" height="612">
  <rect width="1024" height="612" style="fill:rgb(0,0,55);stroke-width:10;stroke:rgb(100,100,175)" />
</svg>
]]

htmlContent = [[
<!DOCTYPE html>
<html>
<head>
<style>
  .txt { color:#FFFFFF;
         font: bold 18px Verdana;
         top: 25px;
         left: 25px;
         position: absolute;}
   </style>
</head>
<body>
<div class="txt">%s</div>
</body>
</html>
]]

text = ""

screen1.addContent(0,0,htmlBackground1)

-- timer
self.setTimer("loop", 0.07)


-- Light1.toggle()
-- Door1.toggle()
-- LandingGear1.toggle()
-- Switch1.toggle()




-----------------------------------------+
-- Element name: unit
-- Element: Unit
-- Event: Stop()
-----------------------------------------
print('stopped')




-----------------------------------------
-- Element: Unit
-- Event: timer(loop)
-----------------------------------------

screen1.clear()-------------------

-- local htmlText = string.format(htmlContent,mouseX,mouseY)
local tableHTML = [[
<style>
   th { border: 1px solid blue; background-color: #000000;}
   table, td {border: 1px solid black; background-color: #0000FF;}
  
}
</style>
<TABLE style="width: 900px;">
<thead>
  <tr>
    <th>id</th><th>Name</th><th>owner</th><th>size</th><th>pos</td><th>Type</th>
  </tr>
</thead>
<tbody>
%s
</tbody>
</TABLE>
]]

local cells = " "

for i, id in ipairs( radar1.getEntries() ) do
  
  local pos = "x:"..radar1.getConstructPos(id)[1].." y:"..radar1.getConstructPos(id)[2].." z:"..radar1.getConstructPos(id)[3]
  cells = cells.."<tr><td align=center>"..id.."</td><td>"..radar1.getConstructName(id).."</td><td>"..database.getPlayer(radar1.getConstructOwner(id))['name'].."</td><td>"..radar1.getConstructSize(id)[1].."</td><td>"..pos.."</td><td align=center>"..radar1.getConstructType(id).."</td></tr>"

end

local text = string.format(tableHTML, cells)

  text = text..'<br/>System.getplayername:'..System.getPlayerName(3)..' gettime:'..System.getTime()
  text = text..'<br/>g:'..core.g()..' mousewheel: '..System.getMouseWheel()..' mouseX/Y:'..System.getMousePosX()..'/'..System.getMousePosY()
for i, id in ipairs( core.getElementList() ) do

  text = text..'<br/>id: '..id..' name: '..core.getElementName(id)
  text = text..' Type: '..core.getElementType(id)
  text = text..' hp: '..core.getElementHitPoints(id)..'/'..core.getElementMaxHitPoints(id)
  text = text..' '..core.getElementMass(id)

end

htmlText = string.format(htmlContent, text) 

screen1.addContent(0,0,htmlBackground1)
screen1.addContent(0,0,htmlText)





-----------------------------------------
-- Element name: radar1
-- Element: Radar
-- Event: enter(id)
-----------------------------------------
print('Construct '..id..' ['..self.getConstructName(id)..'] entered the zone')





-----------------------------------------
-- Element name: radar1
-- Element: Radar
-- Event: leave(id)
-----------------------------------------
print('Construct '..id..' ['..self.getConstructName(id)..'] left the zone')




